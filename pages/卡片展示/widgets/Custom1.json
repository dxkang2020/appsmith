{
  "backgroundColor": "#FFFFFF",
  "borderColor": "#E0DEDE",
  "borderRadius": "{{appsmith.theme.borderRadius.appBorderRadius}}",
  "borderWidth": "1",
  "bottomRow": 91,
  "boxShadow": "{{appsmith.theme.boxShadow.appBoxShadow}}",
  "defaultModel": "{{Tab.testCustom()}}",
  "dynamicBindingPathList": [
    {
      "key": "theme"
    },
    {
      "key": "borderRadius"
    },
    {
      "key": "boxShadow"
    },
    {
      "key": "defaultModel"
    }
  ],
  "dynamicHeight": "FIXED",
  "dynamicTriggerPathList": [
    {
      "key": "onResetClick"
    }
  ],
  "events": [
    "onResetClick"
  ],
  "isCanvas": false,
  "isLoading": false,
  "isSearchWildcard": true,
  "isVisible": true,
  "key": "n3gh5gar9o",
  "leftColumn": 1,
  "maxDynamicHeight": 9000,
  "minDynamicHeight": 4,
  "mobileBottomRow": 42,
  "mobileLeftColumn": 1,
  "mobileRightColumn": 24,
  "mobileTopRow": 12,
  "needsErrorInfo": false,
  "onResetClick": "{{showAlert('Successfully reset!!', '');}}",
  "originalBottomRow": 91,
  "originalTopRow": 8,
  "parentColumnSpace": 20.25,
  "parentId": "0",
  "parentRowSpace": 10,
  "renderMode": "CANVAS",
  "rightColumn": 64,
  "srcDoc": {
    "css": ".image-gallery {\n  width: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 24px;\n}\n\n.image-cell {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  width: 180px;\n  margin-bottom: 10px;\n}\n\n.img-thumb {\n  width: 170px;\n  height: 120px;\n  object-fit: contain;\n  background: #f6f8fa;\n  border-radius: 8px;\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.06);\n  cursor: pointer;\n  display: block;\n}\n\n.img-caption {\n  margin-top: 12px;\n  font-size: 15px;\n  color: #444;\n  cursor: pointer;\n  border-radius: 4px;\n  padding: 7px 14px;\n  transition: background 0.16s, color 0.16s;\n  user-select: none;\n  line-height: 1.7;\n  max-width: 150px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  box-sizing: border-box;\n}\n\n.img-caption.copied {\n  background: #e6ffec;\n  color: #319b45;\n}\n\n.img-caption:hover:not(.copied) {\n  background: #f1f8ff;\n  color: var(--appsmith-theme-primaryColor, #2967dd);\n}",
    "html": "<div id=\"app\">\n  <div class=\"image-gallery\">\n    <div class=\"image-cell\" v-for=\"(img, idx) in images\" :key=\"idx\">\n      <img :src=\"img.url\" :alt=\"img.caption || '图片'+ (idx+1)\" class=\"img-thumb\" @click=\"openImage(img.url)\">\n      <span\n        class=\"img-caption\"\n        :class=\"{ copied: copiedIdx === idx }\"\n        @click.stop=\"copyCaption(img.caption, idx)\"\n        :title=\"img.caption\"\n      >\n        {{ copiedIdx === idx ? '已复制!' : img.caption }}\n      </span>\n    </div>\n  </div>\n</div>\n<script src=\"https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.min.js\"></script>",
    "js": "appsmith.onReady(() => {\n  new Vue({\n    el: \"#app\",\n    data() {\n      return {\n        images: appsmith.model.data && appsmith.model.data.length ? appsmith.model.data : [{\n          url: 'https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=cover&w=400&q=80',\n          caption: '森林'\n        }, {\n          url: 'https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=cover&w=400&q=80',\n          caption: '雪山'\n        }],\n        copiedIdx: null\n      };\n    },\n    methods: {\n      openImage(url) {\n        window.open(url, '_blank');\n      },\n      copyCaption(caption, idx) {\n        console.log(caption, idx);\n        if (!caption) return;\n        if (typeof appsmith !== 'undefined' && appsmith.copyToClipboard) {\n          appsmith.copyToClipboard(caption);\n          console.log('1');\n        } else {\n          if (navigator.clipboard) {\n            console.log('2');\n            navigator.clipboard.writeText(caption);\n          }\n        }\n        this.copiedIdx = idx;\n        setTimeout(() => {\n          this.copiedIdx = null;\n        }, 1200);\n      },\n      updateData(newImages) {\n        this.images = Array.isArray(newImages) ? newImages : [];\n      }\n    },\n    mounted() {\n      appsmith.onModelChange((model, oldModel) => {\n        if (JSON.stringify(model.data) !== JSON.stringify(oldModel?.data)) {\n          this.updateData(model.data);\n        }\n      });\n    }\n  });\n});"
  },
  "theme": "{{appsmith.theme}}",
  "topRow": 8,
  "type": "CUSTOM_WIDGET",
  "uncompiledSrcDoc": {
    "css": ".image-gallery {\n  width: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 24px;\n}\n.image-cell {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  width: 180px;\n  margin-bottom: 10px;\n}\n.img-thumb {\n  width: 170px;\n  height: 120px;\n  object-fit: contain;\n  background: #f6f8fa;\n  border-radius: 8px;\n  box-shadow: 0 2px 6px rgba(0,0,0,0.06);\n  cursor: pointer;\n  display: block;\n}\n.img-caption {\n  margin-top: 12px;\n  font-size: 15px;\n  color: #444;\n  cursor: pointer;\n  border-radius: 4px;\n  padding: 7px 14px;\n  transition: background 0.16s, color 0.16s;\n  user-select: none;\n  line-height: 1.7;\n  max-width: 150px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  box-sizing: border-box;\n}\n.img-caption.copied {\n  background: #e6ffec;\n  color: #319b45;\n}\n.img-caption:hover:not(.copied) {\n  background: #f1f8ff;\n  color: var(--appsmith-theme-primaryColor, #2967dd);\n}\n",
    "html": "<div id=\"app\">\n  <div class=\"image-gallery\">\n    <div class=\"image-cell\" v-for=\"(img, idx) in images\" :key=\"idx\">\n      <img :src=\"img.url\" :alt=\"img.caption || '图片'+ (idx+1)\" class=\"img-thumb\" @click=\"openImage(img.url)\">\n      <span\n        class=\"img-caption\"\n        :class=\"{ copied: copiedIdx === idx }\"\n        @click.stop=\"copyCaption(img.caption, idx)\"\n        :title=\"img.caption\"\n      >\n        {{ copiedIdx === idx ? '已复制!' : img.caption }}\n      </span>\n    </div>\n  </div>\n</div>\n<script src=\"https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.min.js\"></script>",
    "js": "appsmith.onReady(() => {\n\tnew Vue({\n\t\tel: \"#app\",\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\timages: appsmith.model.data && appsmith.model.data.length ? appsmith.model.data : [\n\t\t\t\t\t{ url: 'https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=cover&w=400&q=80', caption: '森林' },\n\t\t\t\t\t{ url: 'https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=cover&w=400&q=80', caption: '雪山' }\n\t\t\t\t],\n\t\t\t\tcopiedIdx: null,\n\t\t\t};\n\t\t},\n\t\tmethods: {\n\t\t\topenImage(url) {\n\t\t\t\twindow.open(url, '_blank');\n\t\t\t},\n\t\t\tcopyCaption(caption, idx) {\n\t\t\t\tconsole.log(caption,idx)\n\t\t\t\tif (!caption) return;\n\t\t\t\tif (typeof appsmith !== 'undefined' && appsmith.copyToClipboard) {\n\t\t\t\t\tappsmith.copyToClipboard(caption);\n\t\t\t\t\tconsole.log('1')\n\t\t\t\t} else {\n\n\n\t\t\t\t\tif (navigator.clipboard) {\n\t\t\t\t\t\tconsole.log('2')\n\t\t\t\t\t\tnavigator.clipboard.writeText(caption);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.copiedIdx = idx;\n\t\t\t\tsetTimeout(() => { this.copiedIdx = null; }, 1200);\n\t\t\t},\n\t\t\tupdateData(newImages) {\n\t\t\t\tthis.images = Array.isArray(newImages) ? newImages : [];\n\t\t\t}\n\t\t},\n\t\tmounted() {\n\t\t\tappsmith.onModelChange((model, oldModel) => {\n\t\t\t\tif (JSON.stringify(model.data) !== JSON.stringify(oldModel?.data)) {\n\t\t\t\t\tthis.updateData(model.data);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n});"
  },
  "version": 1,
  "widgetId": "qtwkpxuilc",
  "widgetName": "Custom1"
}